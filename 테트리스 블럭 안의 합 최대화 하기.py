n,m = map(int,input().split())
arr = [list(map(int,input().split())) for _ in range(n)]
blocks = [[(0,1),(0,2),(0,3)],[(1,0),(2,0),(3,0)],
		[(0,1),(1,0),(1,1)],
        [(1,0),(1,1),(2,0)], [(1,0),(2,0),(1,-1)], [(0,1),(0,2),(-1,1)], [(0,1),(0,2),(1,1)],
        [(1,0),(1,1),(2,1)], [(1,0),(0,1),(-1,1)], [(0,1),(-1,1),(-1,2)], [(0,1),(1,1),(1,2)],
        [(1,0),(2,0),(2,1)], [(0,1),(-1,1),(-2,1)], [(0,1),(1,0),(2,0)], [(0,1),(1,1),(2,1)],
        [(0,1),(0,2),(-1,2)], [(1,0),(1,1),(1,2)], [(0,1),(0,2),(1,2)], [(0,1),(0,2),(1,0)]]
ans = 0
for block in blocks :
    for i in range(n) :
        for j in range(m) :
            tmp = arr[i][j]
            for ni, nj in block :	
                ni += i
                nj += j
                if 0 <= ni < n and 0 <= nj < m :
                    tmp += arr[ni][nj]
                else :
                    break
            if tmp > arr[i][j] :
                ans = max(ans, tmp)
print(ans)
